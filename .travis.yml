language: node_js
sudo: required
dist: trusty

install:
  - gimme 1.9
  - . $HOME/.gimme/envs/go1.9.env
  - go get github.com/dedis/Coding || true
  # Because we are using "language: node_js" the "git clone" is not in the
  # GOPATH. So make a copy of it over where it is supposed to be.
  - git clone . `go env GOPATH`/src/github.com/dedis/cothority
  - (cd `go env GOPATH`/src/github.com/dedis/cothority && go get -t ./... )

cache:
  directories:
    - $HOME/.cache/go-build
    - $HOME/.m2

notifications:
  email: false

matrix:
  include:
    - language: java

      script:
        - make test_java
